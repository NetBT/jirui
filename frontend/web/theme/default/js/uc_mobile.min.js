$.extend({initTable:function(a,b){var c=$.extend({serverSide:true,processing:true,retrieve:true,ajax:{url:"",type:"POST",data:""},bJQueryUI:true,sPaginationType:"full_numbers",columns:[],pageLength:3,pagingType:"simple_numbers",sDom:'<"toolbar"rtlip<"clear">>',oLanguage:{sLengthMenu:"显示 _MENU_ 记录",sZeroRecords:"对不起，查询不到任何相关数据",sEmptyTable:"未有相关数据",sLoadingRecords:"正在加载数据-请等待...",sProcessing:'<div class="loading"></div>',sInfo:"当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录。",sInfoEmpty:"当前显示0到0条，共0条记录",sInfoFiltered:"（数据库中共为 _MAX_ 条记录）",sSearch:"模糊查询：",sUrl:"",oPaginate:{sFirst:"<<",sPrevious:" < ",sNext:" > ",sLast:" >> "}},initComplete:"",drawCallback:"",scrollX:false,sScrollX:"100%",sScrollXInner:"100%",scrollY:false},b);$(a).DataTable(c)}});var TableCommon={sDom:'<"toolbar"rtp<"clear">>',scrollY:false,columns:[],id:"",ajax:{url:"",type:"POST",data:""},drawCallback:"",exchangeRequest:{columns:[{data:"myPlatform",sTitle:"我的平台",orderable:false,render:function(a,b,d,c){return'<p><img src="'+d.myPlatformLogo+'" width="40"></p><p>'+d.myPlatform+"</p>"}},{data:"myAccount",sTitle:"我的账号",orderable:false},{data:"endTime",sTitle:"到期时间",orderable:false},{data:"wantPlatform",sTitle:"要交换平台",orderable:false,render:function(a,b,d,c){return'<p><img src="'+d.wantPlatformLogo+'" width="40"></p><p>'+d.wantPlatform+"</p>"}},{data:"status",sTitle:"状态",orderable:false},{data:"requestNums",sTitle:"请求数量",orderable:false},{data:"operation",sTitle:"操作",orderable:false}]},myVip:{columns:[{data:"myPlatformName",sTitle:"平台",orderable:false,render:function(a,b,d,c){return'<p><img src="'+d.myPlatformLogo+'" width="40"></p><p>'+d.myPlatformName+"</p>"}},{data:"myAccount",sTitle:"账号",orderable:false},{data:"password",sTitle:"密码",orderable:false},{data:"endTime",sTitle:"到期时间",orderable:false},{data:"status",sTitle:"状态",orderable:false},{sTitle:"操作",mDataProp:"id",orderable:false,fnCreatedCell:function(b,a,e,d,c){$(b).addClass("center").html('<button class="btn btn-default-blue btn-xs" onclick="loadModifyVip('+e.id+')">修改信息</button>')}}]},initTable:function(){$.initTable(this.id,{columns:this.columns,ajax:this.ajax,drawCallback:this.drawCallback,sDom:this.sDom,scrollY:this.scrollY})},init:function(initTableName,sId,sUrl){var str="this."+initTableName+"('"+sUrl+"')";this.id=sId;this.ajax.url=sUrl;this.ajax.data=function(d){d.extra_search=getParams()};eval(str);this.initTable()},reloadTable:function(a){$(this.id).DataTable().destroy();this.ajax.data=function(b){b.extra_search=a};this.initTable()},drawTable:function(){$(this.id).DataTable().draw(false)},_bindDateSpeed:function(c,a,b){var d=this;$(".js-date-speed").unbind("click").bind("click",function(){$(c).val($(this).attr("data-start-date"));$(a).val($(this).attr("data-end-date"));d.reloadTable(b)})},initExchangeRequest:function(){this.columns=this.exchangeRequest.columns;this.drawCallback=function(b,a){$("thead").find("th").removeClass("sorting sorting_asc sorting_desc").css({"text-align":"center",border:"none"});$(".dataTables_scrollBody").slimScroll({height:getTableHeight()+"px"})}},initMyVip:function(){this.columns=this.myVip.columns;this.drawCallback=function(b,a){$("thead").find("th").removeClass("sorting sorting_asc sorting_desc").css({"text-align":"center",border:"none"});$(".dataTables_scrollBody").slimScroll({height:getTableHeight()+"px"})}}};